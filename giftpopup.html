
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/animate.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap4.min.css" />
<!--     <link rel="stylesheet" type="text/css" href="css/owl.carousel.css" /> -->
    <link rel="stylesheet" type="text/css" href="css/style.css?ver=1.02" />
    <link rel="stylesheet" type="text/css" href="css/responsive.css?ver=1.02" />
    <link rel="icon" href="images/favicon.png" type="image/gif" sizes="10x16">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">
    <title>Home - DarkMatter</title>
</head>
<body class="gift_body">

    <!-- Header -->
    <nav class="navbar navbar-expand-md wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.20s">
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="images/logo.png" alt="LOGO"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
                <ul class="navbar-nav nav-center">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">DAPPS</a>
                    </li>
                    <li class="nav-item nav-social">
                        <a href="https://t.me/darkmatterharvester"><i class="fab fa-telegram-plane"></i></a>
                        <a href="https://discord.com/invite/NbSy6Sw"><i class="fab fa-discord"></i></a>
                        <a href="#"><i class="fab fa-medium"></i></a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="#">WHITE PAPER</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://tronscan.io/#/token20/TXhv2baQ2q3TWerrwBiXjj27js9QocJFU9">TOKEN</a>
                    </li>
                </ul>
                <ul class="navbar-nav nav-right">
                    <li class="nav-item btn-main">
                        <a class="nav-link" href="#" id="user_addy">Login Tronlink</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Header -->

    <section class="gift_sec container wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.60s">
      <div class="row">
        <div class="col-lg-4">
          <div class="gift_sec_outer">
            <div class="gift_top">
              <div class="gift_sec_outer_abt">
                <div>
                  <p>TICKET PRICE</p>
                  <div><h4>0.00</h4><span>TRX</span></div>
                </div>
                <div>
                  <p>POT</p>
                  <div><h4>0.00</h4><span>TRX</span></div>
                </div>
              </div>

              <div class="gift_sec_timer">
                <div>1 <span>D</span></div>
                <div>13 <span>H</span></div>
                <div>33 <span>M</span></div>
                <div>15 <span>S</span></div>
              </div>
            </div>
            <div class="gift_bottom">
              <div class="gift_sec_btime">
                <div class="single_row">
                  <div>TOTAL TICKETS : <span>13</span></div>
                </div>
                <div class="single_row multiple_row">
                  <div>YOUR TICKETS : <span>13</span></div>
                  <div>WIN CHANCE : <span>13</span></div>
                </div>

                <div class="ip_outer"> 
                  <input class="form-control" type="" name="" placeholder="0.00">
                  <span>TRX</span>
                </div>
                <a href="" class="btn-main">BUY</a>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="gift_sec_outer">

            <div class="gift_top">
              <img src="images/gift_box.png" class="gift_box">
              <div class="gift_sec_outer_abt">
                <div>
                  <p>TICKET PRICE</p>
                  <div><h4>0.00</h4><span>TRX</span></div>
                </div>
                <div>
                  <p>POT</p>
                  <div><h4>0.00</h4><span>TRX</span></div>
                </div>
              </div>

              <div class="gift_sec_timer gift_sec_balance">
                <div class="balanceheading">BALANCE</div>
                <div class="gift_sec_outer_abt">
                  <div>
                    <div><h4>0.00</h4><span>DMD</span></div>
                  </div>
                  <div>

                    <div><h4>0.00</h4><span>TRX</span></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="gift_bottom">
              <div class="gift_sec_btime">
                <a href="" class="btn-main btn-main-green">CLAIM : 23 <span>DMD</span></a>
                <a href="" class="btn-main">CLAIM : 23 <span>TRX</span></a>
              </div>
            </div>
          </div>
        </div>


        <div class="col-lg-4">
          <div class="gift_sec_outer">
            <div class="gift_top">
              <div class="gift_sec_outer_abt">
                <div>
                  <p>TICKET PRICE</p>
                  <div><h4>0.00</h4><span>TRX</span></div>
                </div>
                <div>
                  <p>POT</p>
                  <div><h4>0.00</h4><span>TRX</span></div>
                </div>
              </div>

              <div class="gift_sec_timer">
                <div>1 <span>D</span></div>
                <div>13 <span>H</span></div>
                <div>33 <span>M</span></div>
                <div>15 <span>S</span></div>
              </div>
            </div>
            <div class="gift_bottom">
              <div class="gift_sec_btime">
                <div class="single_row">
                  <div>TOTAL TICKETS : <span>13</span></div>
                </div>
                <div class="single_row multiple_row">
                  <div>YOUR TICKETS : <span>13</span></div>
                  <div>WIN CHANCE : <span>13</span></div>
                </div>

                <div class="ip_outer"> 
                  <input class="form-control" type="" name="" placeholder="0.00">
                  <span>TRX</span>
                </div>
                <a href="" class="btn-main">BUY</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-wrapper">
                <div class="footer-logo">
                    <a href="#">
                        <img src="images/logo.png" alt="logo">
                    </a>
                </div>
                <div class="footer-nav navbar">
                    <ul class="navbar-nav">
                        <li><a href="#">LOOT</a></li>
                        <li><a href="#">BARRACKS</a></li>
                        <li><a href="#">ORDERS</a></li>
                        <li><a href="#">FAIRNESS</a></li>
                        <li><a href="#">RULES OF ENGAGEMENT</a></li>
                        <li><a href="#">TOKEN</a></li>
                    </ul>
                    <ul class="navbar-nav nav-right">
                        <li class="footer-btn">
                            <a href="#" class="btn-main" id="user_addy2">Login Tronlink</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer -->


    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/popper.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/jquery.reflection.js"></script>
    <script type="text/javascript" src="js/jquery.cloud9carousel.js"></script>
    <!-- <script type="text/javascript" src="js/owl.carousel.min.js"></script> -->
    <script type="text/javascript" src="js/wow.min.js"></script>
    <script type="text/javascript">
        //wow animation js
        new WOW().init();

        //on click
        // $(function () {
        //     //toggle two classes on button element
        //     // $('.owl-item:first-child').on('click',function () {
        //     //     $('.owl-item:first-child').toggleClass('one-cl');
        //     // });

        //     $('.ps-carousel:first-child').on('hover',function () {
        //         $('.owl-item:first-child').toggleClass('one-cl');
        //     });
        // });

        // $(function () {
        //     //toggle two classes on button element
        //     $('.ps-carousel .items:nth-child(2)').on('hover',function () {
        //         $(this).toggleClass('two-cl');
        //     });
        // });

        // $(function () {
        //     //toggle two classes on button element
        //     $('.ps-carousel:nth-child(3)').on('click',function () {
        //         $(this).toggleClass('three-cl');
        //     });
        // });

        // $(function () {
        //     //toggle two classes on button element
        //     $('.ps-carousel:nth-child(4)').on('click',function () {
        //         $(this).toggleClass('four-cl');
        //     });
        // });

        // $(function () {
        //     //toggle two classes on button element
        //     $('.ps-carousel:last-child').on('click',function () {
        //         $('.owl-item:last-child').toggleClass('five-cl');
        //     });
        // });


        //galaxy slider
        $(function() {
            var showcase = $("#showcase")
            showcase.Cloud9Carousel( {
                yPos: 42,
                yRadius: 48,
                mirrorOptions: {
                  gap: 18,
                  height: 0.5
                },
                buttonLeft: $(".nav > .left"),
                buttonRight: $(".nav > .right"),
                autoPlay: true,
                smooth: true,
                speed:2,
                bringToFront: false,
                onRendered: showcaseUpdated,
                onLoaded: function() {
                  showcase.css( 'visibility', 'visible' )
                  showcase.css( 'display', 'none' )
                  showcase.fadeIn( 2000 )
                }
            })


            function showcaseUpdated( showcase ) {
                var title = $('#item-title').html(
                    $(showcase.nearestItem()).attr( 'alt' )
                )
                // Every planet info changes on click
                 $('.detail-head').html($('.main-goal.active').children("img").attr("data-name"));
                $('#staked-amount').html($('.main-goal.active').children("img").attr("data-staked"));
                $('#total-staked').html($('.main-goal.active').children("img").attr("data-total-staked"));
                $('#my-earning').html($('.main-goal.active').children("img").attr("data-earning"));
                $('#estimated-payout').html($('.main-goal.active').children("img").attr("data-payout"));
                $('#arrow-left').html($('.main-goal.active').children("img").attr("data-left"));
                $('#arrow-right').html($('.main-goal.active').children("img").attr("data-right"));
                var c = Math.cos((showcase.floatIndex() % 1) * 2 * Math.PI)
                    title.css('opacity', 0.5 + (0.5 * c))
                }


                // Simulate physical button click effect
                $('.nav > button').click( function( e ) {
                    var b = $(e.target).addClass( 'down' )
                    setTimeout( function() { b.removeClass( 'down' ) }, 80 )
                })


                $(document).keydown( function( e ) {
                    // More codes: http://www.javascripter.net/faq/keycodes.htm
                    switch( e.keyCode ) {
                    /* left arrow */
                    case 37:
                    $('.nav > .left').click()
                    break
                    case 39:
                    $('.nav > .right').click()
                }
            })
        })

        //galaxy slide script
        var _gaq = _gaq || [];
       _gaq.push(['_setAccount', 'UA-36251023-1']);
       _gaq.push(['_setDomainName', 'jqueryscript.net']);
       _gaq.push(['_trackPageview']);


      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();


      // Set the date we're counting down to
        var countDownDate = new Date("sept 21, 2019").getTime();

        // Update the count down every 1 second
        var x = setInterval(function() {

          // Get today's date and time
          var now = new Date().getTime();

          // Find the distance between now and the count down date
          var distance = countDownDate - now;


          // Time calculations for days, hours, minutes and seconds
          var days = Math.floor(distance / (1000 * 60 * 60 * 24));
          var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          var seconds = Math.floor((distance % (1000 * 60)) / 1000);


          // Output the result in an element with id="demo"
          // document.getElementById("demo").innerHTML = days + " DAYS ";
          // If the count down is over, write some text
          if (distance < 0) {
            clearInterval(x);
            // document.getElementById("demo").innerHTML = "EXPIRED";
          }
        }, 1000);


        //owl carousel
        // $('#category-slider').owlCarousel({
        //     autoplay: true,
        //     lazyLoad: true,
        //     loop: false,
        //     margin: 15,
        //     items: 5,
        //     responsiveClass: true,
        //     autoplayTimeout: 7000,
        //     smartSpeed: 2000,
        //     nav: false,
        //     dots: false,
        //     responsive:{
        //         0:{
        //             items:1,
        //         },
        //         768:{
        //             items:3,
        //         },
        //         991:{
        //             items:4,
        //         },
        //         1100:{
        //             items:4,
        //         },
        //         1200:{
        //             items:5,
        //         },
        //     }
        // })
    </script>
<!--     <script type="text/javascript">.
      $(".cat-img").hover(function(){
        $('.cat-img').css("background-color", "yellow");
        };
    </script> -->
    <script type="text/javascript">
      const slider = document.querySelector('.our-categoreis .container');
      let isDown = false;
      let startX;
      let scrollLeft;

      slider.addEventListener('mousedown', (e) => {
        isDown = true;
        slider.classList.add('active');
        startX = e.pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
      });
      slider.addEventListener('mouseleave', () => {
        isDown = false;
        slider.classList.remove('active');
      });
      slider.addEventListener('mouseup', () => {
        isDown = false;
        slider.classList.remove('active');
      });
      slider.addEventListener('mousemove', (e) => {
        if(!isDown) return;
        e.preventDefault();
        const x = e.pageX - slider.offsetLeft;
        const walk = (x - startX) * 1; //scroll-fast
        slider.scrollLeft = scrollLeft - walk;
        console.log(walk);
      });
       slider.addEventListener('touchmove', (e) => {
        if(!isDown) return;
        e.preventDefault();
        const x = e.pageX - slider.offsetLeft;
        const walk = (x - startX) * 1; //scroll-fast
        slider.scrollLeft = scrollLeft - walk;
        console.log(walk);
      });
        slider.addEventListener('touchstart', (e) => {
        isDown = true;
        slider.classList.add('active');
        startX = e.pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
      });
      slider.addEventListener('touchend', () => {
        isDown = false;
        slider.classList.remove('active');
      });
      slider.addEventListener('touchend', () => {
        isDown = false;
        slider.classList.remove('active');
      });
    </script>


    <script type="text/javascript">
      $(function () {
        var tempwidth =  $('.two-cl .cat-img').css("width")
          $('.ps-carousel').css("width",5*500)
            //toggle two classes on button element
            $('.ps-carousel .items').on('mouseover',function () {
                $(".two-cl").removeClass("two-cl");
                // val = $(this).data('id');
                // $('.ps-carousel').scrollLeft(val*100);
                $(this).toggleClass('two-cl');
            });
        });
    </script>
    <script src="js/jquery.plugin.min.js"></script>
    <script src="js/jquery.countdown.js"></script>
    <script>
    $(function () {
        $('#defaultCountdown').countdown({layout: '{hnn}h {mnn}m {snn}s', until: "+3h +38m +15s", format: 'HMS'});
    });
    $(document).ready(()=>{
      const config_json = {
      /*  LIGHTMATTER: {
          num:1,
          tokenAddress: 'TUKhG4PsgEsL7xEk42eHaDQPDrnzZsTNqo',
          stakeDataAddress: 'TArgTK9v9ztc6hxpawj921xSjRvGPppd4g',
          stakeHandlerAddress: 'TJz7aVd1LNfprpxW39XGskXdj262vFfZbG',
          decimals: 1e6,
          symbol: 'LMH'
        },*/
        DARKMATTER: {
          num:2,
          tokenAddress: 'TXhv2baQ2q3TWerrwBiXjj27js9QocJFU9',
          stakeDataAddress: 'TVMUd5yT9ZgxfCKm9dvKG3jmFAXYsMvyon',
          stakeHandlerAddress: 'TD1sKYdUHKnR1V3UeVXxUB7QbD1mHTMkJG',
          decimals: 1e6,
          symbol: 'DMD'
        },
        /*VOID: {
          num:3,
          tokenAddress: 'TUKhG4PsgEsL7xEk42eHaDQPDrnzZsTNqo',
          stakeDataAddress: 'TArgTK9v9ztc6hxpawj921xSjRvGPppd4g',
          stakeHandlerAddress: 'TJz7aVd1LNfprpxW39XGskXdj262vFfZbG',
          decimals: 1e6,
          symbol: 'VOID'
        },
        FRAG: {
          num:4,
          tokenAddress: 'TUKhG4PsgEsL7xEk42eHaDQPDrnzZsTNqo',
          stakeDataAddress: 'TArgTK9v9ztc6hxpawj921xSjRvGPppd4g',
          stakeHandlerAddress: 'TJz7aVd1LNfprpxW39XGskXdj262vFfZbG',
          decimals: 1e6,
          symbol: 'FRAG'
        },
        */
      }
      //rounding functions
      function parseFloat(str, radix) {
        let parts = str.split(".");
        if ( parts.length > 1 ) {
          return parseInt(parts[0], radix) + parseInt(parts[1], radix) / Math.pow(radix, parts[1].length);
        }
        return parseInt(parts[0], radix);
      }

      function abbreviateNumber(num)
      {
        if(num >= 1000000)
          return roundToTwoOrFour(num/1000000)+'M';
        if(num >= 1000)
          return roundToTwoOrFour(num/1000)+'k';
        return roundToTwoOrFour(num);
      }

      function roundToFour(num) {
        return +(Math.floor(num + 'e+4') + 'e-4')
      }

      function roundToTwo(num) {
        return +(Math.floor(num + 'e+2') + 'e-2')
      }

      function round(num) {
        return +(Math.floor(num + 'e+0') + 'e-0')
      }

      function roundToTwoOrFour(num){
        if(num<1) return roundToFour(num)
        return roundToTwo(num)
      }
      let selected = "DARKMATTER"
      let tokenSelected = undefined
      const forceLoad = setInterval(()=>{
        if(tronWeb){
          updateCycleRewards(config_json["DARKMATTER"])
          clearInterval(forceLoad)
       }
      },500)
      setInterval(()=>{
        tokenSelected = config_json[selected]
        updateCycleRewards(tokenSelected)
        updateUserAddy()
      }, 2000)
      async function updateUserAddy() {
        if(!tronWeb.defaultAddress.base58) return
        let bal = await tronWeb.contract().at('TXhv2baQ2q3TWerrwBiXjj27js9QocJFU9')
        bal = await bal.balanceOf(tronWeb.defaultAddress.base58).call()
        const addy = tronWeb.defaultAddress.base58.slice(0,5) +'... '+ abbreviateNumber(parseInt(bal._hex,16)/1e6) + ' DMD'
        document.getElementById('user_addy').innerHTML = addy
        document.getElementById('user_addy2').innerHTML = addy
      }
      async function updateCycleRewards(tokenSelected) {
        stakeHandlerInstance = await tronWeb.contract().at(tokenSelected.stakeHandlerAddress)
        const total = await stakeHandlerInstance.reservedPot().call()
        document.getElementById('token'+tokenSelected.num).setAttribute('data-payout', roundToTwoOrFour(parseFloat(total._hex, 16)/tokenSelected.decimals) + " " + tokenSelected.symbol)
      }
      $('#click-left').click(function(err) {
         selected = document.getElementById('arrow-left').innerHTML.replace(' ', '').toUpperCase()
      })
      $('#click-right').click(function(err) {
         selected = document.getElementById('arrow-right').innerHTML.replace(' ', '').toUpperCase()
      })
    })
    </script>


</body>
</html>
